<div *ngIf="reminderConfig">
    <div>
        <div class="row">
            <div class="col-12">
                <div class="align-items-center mb-2 border-bottom">
                    <i data-feather="link" class="font-medium-3"></i>
                    <h4 class="ml-75">{{'smsReminder.title' | translate}} <app-explanation-mark
                            [explanation]="'smsReminder.explanation' | translate"></app-explanation-mark></h4>
                    <h6 class="ml-75">{{'smsReminder.text' | translate}}</h6>
                </div>
            </div>
        </div>


        <div>

            <div class="col-12">
                <div class="card">
                    <div>
                        <div class="plan-statistics pt-1" *ngIf="smsCount">
                            <div class="d-flex justify-content-between">
                                <h5 class="fw-bolder">{{'smsReminder.leftMessage' | translate}}</h5>
                                <h5 class="fw-bolder">{{smsCount.count}} {{'smsReminder.sms' | translate}}</h5>
                            </div>
                            <div class="progress" *ngIf="smsCount">
                                <div class="progress-bar {{smsCount.count <= 40 ? 'progress-bar-error' : ''}} {{smsCount.count > 40 && smsCount.count <= 70 ? 'progress-bar-warning' : ''}}"
                                    [ngStyle]="{'width': generateProgressBar()}" role="progressbar" aria-valuenow="12"
                                    aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <p class="mt-50">{{_helpService.replaceText('smsReminder.leftMessageText' | translate,
                                '{numberOfLeftMessage}', smsCount.count)}} <span *ngIf="smsCount.count <= 40"
                                    class="text-danger">{{'smsReminder.pleaseBuySmsOnTime' | translate}}</span></p>
                        </div>

                    </div>
                    <div class="text-right">
                        <a class="btn btn-primary" routerLink="/dashboard/admin/payment/buy-more-sms"> <span
                                class="fa fa-shopping-cart"></span> &nbsp;
                            {{'smsReminder.buyMoreSMS' |
                            translate}}</a>
                    </div>
                </div>

            </div>



        </div>
    </div>

    <div class="mt-2 pt-2 border-top">
        <!-- <div class="row">
            <div class="col-12">
                <div class="align-items-center mb-2 border-bottom">
                    <i data-feather="link" class="font-medium-3"></i>
                    <h4 class="ml-75">{{'smsReminder.messageConfiguration' | translate}} <app-explanation-mark
                            [explanation]="'smsReminder.messageConfigurationExplanation' | translate"></app-explanation-mark>
                    </h4>
                </div>
            </div>
        </div> -->

        <div class="form-check form-switch d-flex align-items-center mb-3">
            <input type="checkbox" class="form-check-input" name="sms-reminder" [(ngModel)]="reminderConfig.active"
                (change)="setSmsReminderConfig($event)">
            <div>
                <h5 class="form-check-label d-block" for="sms-reminder">{{'smsReminder.activeSmsReminder' |
                    translate}}
                </h5>
                <span class="badge badge-warning mb-0 recommended">{{'reminders.recommended'
                    | translate}} <app-explanation-mark [explanation]="'reminders.recommendedExplanation' | translate"
                        [fontSize]="'small'"></app-explanation-mark></span>
            </div>
            <div class="ml-1 w-75" *ngIf="!reminderConfig.active">
                <h4 class="badge badge-danger pt-1 pb-1 text-left"><span class="fa fa-exclamation-triangle"></span>
                    {{'smsReminder.warning' |
                    translate}} </h4>
            </div>
        </div>

        <div class="col-12">
            <div class="card">

                <!-- CUSTOMER REMINDER -->
                <h5>{{'smsReminder.reminderClientTitle' | translate}} </h5>

                <div>
                    <div class="row mt-2">
                        <div class="col-lg-4 col-12">
                            <app-sms-reminder-card [item]="reminderConfig.config.clientImmediatelyReminder"
                                (changeValue)="setSmsReminderConfig($event)"></app-sms-reminder-card>
                        </div>
                        <div class="col-lg-4 col-12">
                            <app-sms-reminder-card [item]="reminderConfig.config.clientDayBeforeReminder"
                                (changeValue)="setSmsReminderConfig($event)"></app-sms-reminder-card>
                        </div>
                    </div>
                    <!-- END CUSTOMER REMINDER -->

                    <!-- CLIENT LOYALITY-->

                    <h5>{{'smsReminder.clientLoyalityTitle' | translate}} </h5>

                    <div class="row mt-2">
                        <div class="col-lg-4 col-12">
                            <app-sms-reminder-card [item]="reminderConfig.config.clientHappyBirthday"
                                (changeValue)="setSmsReminderConfig($event)"></app-sms-reminder-card>
                        </div>
                        <!-- <div class="col-lg-4 col-12">
                        <app-sms-reminder-card [item]="smsReminder.clientThankForCommingToUs"
                            (changeValue)="changeValue($event)"></app-sms-reminder-card>
                    </div> -->
                    </div>

                    <!-- END CLIENT LOYALITY-->

                    <!-- EMPLOYEE REMINDER -->

                    <h5>{{'smsReminder.reminderEmployeeTitle' | translate}} </h5>

                    <div class="row mt-2">
                        <div class="col-lg-4 col-12">
                            <app-sms-reminder-card [item]="reminderConfig.config.employeeImmediatelyReminder"
                                (changeValue)="setSmsReminderConfig($event)"></app-sms-reminder-card>
                        </div>
                        <div class="col-lg-4 col-12">
                            <app-sms-reminder-card [item]="reminderConfig.config.employeeDayBeforeReminder"
                                (changeValue)="setSmsReminderConfig($event)"></app-sms-reminder-card>
                        </div>
                    </div>

                    <!-- END EMPLOYEE REMINDER -->
                </div>
            </div>
        </div>
    </div>
</div>