"use strict";(self.webpackChunktermmy=self.webpackChunktermmy||[]).push([[21],{1021:(A,c,o)=>{o.r(c),o.d(c,{AdminSettingsModule:()=>x});var l=o(6895),r=o(7615),p=o(3043),t=o(5062),d=o(4578),g=o(5048),m=o(7296);function u(n,s){1&n&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"general.connected")))}function f(n,s){1&n&&t._UZ(0,"span",23)}function h(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.connectToStripe())}),t.YNc(1,f,1,0,"span",22),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Oqu(t.lcZ(3,2,"general.setUp"))}}function b(n,s){1&n&&t._UZ(0,"span",23)}function y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelStripe())}),t.YNc(1,b,1,0,"span",22),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Oqu(t.lcZ(3,2,"general.cancel"))}}let v=(()=>{class n{constructor(e,i){this._service=e,this._storage=i,this.loading=!1}ngOnInit(){this._service.callGetMethod("api/getExternalAccountAdmin","").subscribe(e=>{e.length&&(this.data=e[0])})}connectToStripe(){this.loading=!0,this._service.callPostMethod("/api/payment/stripe/connect",{admin_id:this._storage.getAdminIdSha1()}).subscribe(e=>{window.open(e.url),this.loading=!1})}cancelStripe(){this.loading=!0,this._service.callPostMethod("/api/payment/stripe/cancelStripeAccount",{}).subscribe(e=>{this.data.stripe=null,this.loading=!1})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(d.f),t.Y36(g.V))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-online-payment"]],decls:34,vars:15,consts:[[1,"card"],[1,"card-body"],[1,"validate-form"],[1,"row"],[1,"col-12"],[1,"align-items-center","mb-2","border-bottom"],["data-feather","link",1,"font-medium-3"],[1,"ml-75"],[1,"pt-2"],[1,"d-md-flex","mt-2"],[1,"d-flex","flex-shrink-0"],["src","../../../../../../assets/images/icons/stripe.svg","alt","stripe","height","38","width","38",1,"me-1"],[1,"me-1","ml-1"],[1,"fw-bolder","mb-0"],["type","button","class","badge badge-light-success ml-75",4,"ngIf"],[1,"flex-grow-1","text-right"],[1,"mt-50","mt-sm-0"],[1,"form-check","form-switch","form-check-primary"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"badge","badge-light-success","ml-75"],["type","button",1,"btn","btn-outline-primary",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"i",6),t.TgZ(7,"h4",7),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"h6",7),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"div",3)(14,"div",4)(15,"div",0)(16,"div",8)(17,"div",9)(18,"div",10),t._UZ(19,"img",11),t.TgZ(20,"div",12)(21,"span",13),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.YNc(24,u,3,3,"span",14),t.TgZ(25,"p"),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",17),t.YNc(32,h,4,4,"button",18),t.YNc(33,y,4,4,"button",19),t.qZA()()()()()()()()()()()()),2&i&&(t.xp6(8),t.Oqu(t.lcZ(9,7,"onlinePayment.title")),t.xp6(3),t.Oqu(t.lcZ(12,9,"onlinePayment.text")),t.xp6(11),t.Oqu(t.lcZ(23,11,"onlinePayment.stripeTitle")),t.xp6(2),t.Q6J("ngIf",a.data&&a.data.stripe),t.xp6(2),t.Oqu(t.lcZ(27,13,"onlinePayment.stripeText")),t.xp6(6),t.Q6J("ngIf",!a.data||!a.data.stripe),t.xp6(1),t.Q6J("ngIf",a.data&&a.data.stripe))},dependencies:[l.O5,m.X$]})}return n})();var _=o(5819);const Z=[{path:"online-payment",component:v},{path:"booking-settings",component:(()=>{class n{constructor(){this.path="pages/admin/admin-settings",this.file="booking-settings.json",this.disableEdit=!1}onChangeData(e){console.log(e),e.active&&(this.disableEdit=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-settings"]],decls:1,vars:3,consts:[[3,"path","file","disableEdit","onChangeData"]],template:function(i,a){1&i&&(t.TgZ(0,"app-dynamic-forms",0),t.NdJ("onChangeData",function(T){return a.onChangeData(T)}),t.qZA()),2&i&&t.Q6J("path",a.path)("file",a.file)("disableEdit",a.disableEdit)},dependencies:[_.b]})}return n})()}];let x=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[l.ez,r.Bz.forChild(Z),m.aw,p.w,r.Bz,p.w]})}return n})()}}]);