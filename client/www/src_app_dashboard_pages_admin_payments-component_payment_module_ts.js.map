{"version":3,"file":"src_app_dashboard_pages_admin_payments-component_payment_module_ts.js","mappings":"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","sources":["./src/app/dashboard/pages/admin/payments-component/buy-more-sms/buy-more-sms.component.ts","./src/app/dashboard/pages/admin/payments-component/buy-more-sms/buy-more-sms.component.html","./src/app/dashboard/pages/admin/payments-component/payment.module.ts"],"sourcesContent":["import { Component } from \"@angular/core\";\nimport { CallApiService } from \"app/services/call-api.service\";\nimport { HelpService } from \"app/services/help.service\";\n\n@Component({\n  selector: \"app-buy-more-sms\",\n  templateUrl: \"./buy-more-sms.component.html\",\n  styleUrls: [\"./buy-more-sms.component.scss\"],\n})\nexport class BuyMoreSmsComponent {\n  public path = \"grids/admin\";\n  public file = \"sms-payments.json\";\n  public smsPackages: any;\n  public selectedSmsPackage: any;\n  public selectedSmsPrice: number;\n  public successfullyBoughtNewSms = false;\n\n  constructor(private _service: CallApiService, public _helpService: HelpService) {}\n\n  ngOnInit() {\n    this._service\n      .callGetMethod(\"/api/getSmsPackages\", \"\")\n      .subscribe((data: any) => {\n        this.smsPackages = data;\n        if (data.length) {\n          this.selectedSmsPackage = data[0];\n          this.selectedSmsPrice = data[0].price;\n        }\n      });\n  }\n\n  selectSmsPackage(item: any) {\n    this.selectedSmsPackage = item;\n    this.selectedSmsPrice = item.price;\n  }\n\n  executeMethod(event: any) {\n    this.successfullyBoughtNewSms = true;\n    this.updateNumberOfSms();\n    this.createSmsPayment();\n  }\n\n  updateNumberOfSms() {\n    this._service\n      .callPostMethod(\"/api/updateNumberOfSms\", {\n        count: this.selectedSmsPackage.count,\n      })\n      .subscribe((data) => {});\n  }\n\n  createSmsPayment() {\n    this._service\n      .callPostMethod(\"/api/createSmsPayment\", this.selectedSmsPackage)\n      .subscribe((data) => {});\n  }\n}\n","<div class=\"card p-1\">\n    <div class=\"row\">\n        <div class=\"col-12\">\n            <div class=\"align-items-center mb-2 border-bottom\">\n                <i data-feather=\"link\" class=\"font-medium-3\"></i>\n                <h4 class=\"ml-75\">{{'buyMoreSms.title' | translate}}</h4>\n                <h6 class=\"ml-75\">{{'buyMoreSms.text' | translate}}</h6>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n\n        <div class=\"col-lg-6 col-12\">\n            <table class=\"table table-hover\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">{{'buyMoreSms.package' | translate}}</th>\n                        <th scope=\"col\">{{'buyMoreSms.numberOfSms' | translate}}</th>\n                        <th scope=\"col\">{{'buyMoreSms.price' | translate}}</th>\n                        <th scope=\"col\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let item of smsPackages\">\n                        <td>\n                            {{item.name}}\n                        </td>\n                        <td>\n                            {{item.count}} SMS\n                        </td>\n                        <td>\n                            {{item.price}} €\n                        </td>\n                        <td>\n                            <div class=\"custom-control custom-checkbox\">\n                                <input class=\"custom-control-input\" type=\"radio\" name=\"amount\" id=\"{{item.name}}\"\n                                    [value]=\"item.price\" [(ngModel)]=\"selectedSmsPrice\" (click)=\"selectSmsPackage(item)\"\n                                    [checked]=\"selectedSmsPrice == item.price ? true : false\">\n                                <label class=\"custom-control-label\" for=\"{{item.name}}\">\n\n                                </label>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div class=\"col-lg-6 col-12 payment\" *ngIf=\"selectedSmsPrice\">\n            <app-payment-processing [amount]=\"selectedSmsPrice\" [buttonText]=\"'buyMoreSms.buySmsButton' | translate\"\n                (executeMethodEmitter)=\"executeMethod($event)\"></app-payment-processing>\n\n            <div class=\"text-center mt-4\" *ngIf=\"successfullyBoughtNewSms\">\n                <p class=\"badge badge-success mb-1\">{{_helpService.replaceText('buyMoreSms.successfullyBoughtNewSms' |\n                    translate, '#count', selectedSmsPackage.count)}}</p> <br>\n                <a routerLink=\"/dashboard/admin/admin-settings/reminders\">{{'buyMoreSms.backToSmsReminder' |\n                    translate}}</a>\n            </div>\n        </div>\n\n    </div>\n\n    <div class=\"row mt-3\">\n        <div class=\"col-12\">\n            <div class=\"align-items-center mb-2 border-bottom\">\n                <h6 class=\"ml-75\">{{'buyMoreSms.previousPayments' | translate}}</h6>\n            </div>\n        </div>\n\n        <div class=\"col-12\">\n            <app-dynamic-grid [path]=\"path\" [file]=\"file\"></app-dynamic-grid>\n        </div>\n    </div>\n</div>","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { BuyMoreSmsComponent } from \"./buy-more-sms/buy-more-sms.component\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { CommonCustomModule } from \"app/common/common-custom.module\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { DynamicModule } from \"app/common/dynamic-component/dynamic.module\";\r\n\r\nconst routes = [\r\n  {\r\n    path: \"buy-more-sms\",\r\n    component: BuyMoreSmsComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [BuyMoreSmsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    CommonCustomModule,\r\n    DynamicModule\r\n  ],\r\n  providers: [],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentModule {}\r\n"],"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","BuyMoreSmsComponent_tr_27_Template_input_ngModelChange_9_listener","$event","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","selectedSmsPrice","BuyMoreSmsComponent_tr_27_Template_input_click_9_listener","restoredCtx","item_r2","$implicit","ctx_r5","selectSmsPackage","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","name","count","price","ɵɵpropertyInterpolate","ɵɵproperty","ctx_r0","ɵɵtextInterpolate","ctx_r6","_helpService","replaceText","ɵɵpipeBind1","selectedSmsPackage","BuyMoreSmsComponent_div_28_Template_app_payment_processing_executeMethodEmitter_1_listener","_r8","ctx_r7","executeMethod","ɵɵtemplate","BuyMoreSmsComponent_div_28_div_3_Template","ctx_r1","successfullyBoughtNewSms","BuyMoreSmsComponent","constructor","_service","path","file","ngOnInit","callGetMethod","subscribe","data","smsPackages","length","item","event","updateNumberOfSms","createSmsPayment","callPostMethod","_","ɵɵdirectiveInject","i1","CallApiService","i2","HelpService","_2","selectors","decls","vars","consts","template","BuyMoreSmsComponent_Template","rf","ctx","BuyMoreSmsComponent_tr_27_Template","BuyMoreSmsComponent_div_28_Template","RouterModule","CommonModule","TranslateModule","CommonCustomModule","DynamicModule","routes","component","PaymentModule","_3","forChild","declarations","imports","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}