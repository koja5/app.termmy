"use strict";(self.webpackChunktermmy=self.webpackChunktermmy||[]).push([[331],{5331:(E,m,o)=>{o.r(m),o.d(m,{AccountSettingsModule:()=>A});var p=o(8723),d=o(8516),h=o(6895),f=o(1494),r=o(4329),t=o(4650),u=o(8262),v=o(2684),w=o(5048),c=o(5819),P=o(979);function C(a,Y){if(1&a){const s=t.EpF();t.TgZ(0,"div")(1,"app-avatar-uploader",2),t.NdJ("uploadEmitter",function(n){t.CHM(s);const i=t.oxw();return t.KtG(i.uploadEmitter(n))}),t.qZA()()}if(2&a){const s=t.oxw();t.xp6(1),t.Q6J("data",s.data)("defaultImage","no-user-profile.png")}}let y=(()=>{class a{constructor(s,e,n,i){this._service=s,this._toastr=e,this._messageService=n,this._storageService=i,this.path="pages/account-settings",this.file="general.json",this.avatarImage="../../../../../assets/images/portrait/small/avatar-s-11.jpg"}ngOnInit(){this._service.callGetMethod("/api/getProfileInfo","").subscribe(s=>{s&&s.length&&(this.data=s[0])})}submit(s){console.log(s),"submit"!=s.type&&this._service.callPostMethod("api/saveProfileInfo",s).subscribe(e=>{e?this._toastr.showSuccess():this._toastr.showError()})}uploadEmitter(s){this._service.callPostMethod("api/uploadUserProfile",s).subscribe(e=>{e?(this._messageService.sendAvatarProfile(e.avatar),this._storageService.setToken(e.token),this._toastr.showSuccess()):this._toastr.showError()})}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(u.f),t.Y36(r.l),t.Y36(v.e),t.Y36(w.V))};static#s=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-general"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"path","file","submit"],[3,"data","defaultImage","uploadEmitter"]],template:function(e,n){1&e&&(t.YNc(0,C,2,2,"div",0),t.TgZ(1,"app-dynamic-forms",1),t.NdJ("submit",function(l){return n.submit(l)}),t.qZA()),2&e&&(t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("path",n.path)("file",n.file))},dependencies:[h.O5,c.b,P.M]})}return a})();var S=o(7296);let T=(()=>{class a{constructor(s,e,n){this._service=s,this._toastr=e,this._translate=n,this.path="pages/account-settings",this.file="change-password.json"}resetPassword(s){console.log(s),s.oldPassword===s.newPassword?this._toastr.showWarningCustom(this._translate.instant("resetPassword.oldAndNewPasswordCannotBeSame")):s.newPassword!==s.repeatNewPassword?this._toastr.showWarningCustom(this._translate.instant("resetPassword.passwordsNeedToBeSame")):this._service.callPostMethod("/api/changePassword",s).subscribe(e=>{e?this._toastr.showSuccessCustom(this._translate.instant("resetPassword.successfulyChangedPassword")):this._toastr.showWarningCustom(this._translate.instant("resetPassword.oldPasswordIsWrong"))})}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(u.f),t.Y36(r.l),t.Y36(S.sK))};static#s=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-change-password"]],decls:1,vars:2,consts:[[3,"path","file","submit"]],template:function(e,n){1&e&&(t.TgZ(0,"app-dynamic-forms",0),t.NdJ("submit",function(l){return n.resetPassword(l)}),t.qZA()),2&e&&t.Q6J("path",n.path)("file",n.file)},dependencies:[c.b]})}return a})(),I=(()=>{class a{constructor(){this.path="pages/account-settings",this.file="information.json"}static#t=this.\u0275fac=function(e){return new(e||a)};static#s=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-information"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(e,n){1&e&&t._UZ(0,"app-dynamic-forms",0),2&e&&t.Q6J("path",n.path)("file",n.file)},dependencies:[c.b]})}return a})();var g=o(202),M=o(930),J=o(1463);const Z=[{path:"general",component:y},{path:"change-password",component:T},{path:"information",component:I}];let A=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#s=this.\u0275mod=t.oAB({type:a});static#e=this.\u0275inj=t.cJS({providers:[r.l],imports:[h.ez,d.M,f.Z,p.Bz.forChild(Z),g.w,M.Q,J._,p.Bz,d.M,f.Z,g.w]})}return a})()}}]);